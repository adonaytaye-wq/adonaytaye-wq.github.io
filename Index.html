<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Spin Fate</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;}

body{
  background:#0e111a;
  font-family:Arial, sans-serif;
  color:white;
  text-align:center;
  overflow:hidden;
}

/* Center sections */
.section{
  position:absolute;
  width:100%;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  padding:20px;
}

/* INTRO */
#intro{
  background:black;
  font-size:28px;
}

/* WHEEL */
#wheelSection{
  display:none;
}

#wheel{
  width:90vw;
  height:90vw;
  max-width:500px;
  max-height:500px;
}

/* BUTTON */
button{
  margin-top:25px;
  padding:15px 40px;
  font-size:22px;
  background:#00eaff;
  color:black;
  border:none;
  border-radius:40px;
}

/* REVEAL */
#reveal{
  display:none;
  background:black;
}

.line{
  font-size:30px;
  margin:15px;
}

#result{
  font-size:48px;
  color:#00eaff;
  margin-top:25px;
}
</style>
</head>
<body>

<!-- INTRO -->
<div id="intro" class="section">
  People overthink love...<br><br>
  But what if...<br><br>
  Whatever it lands on.
</div>

<!-- WHEEL -->
<div id="wheelSection" class="section">
  <h1 style="font-size:34px;">SPIN FATE</h1>
  <canvas id="wheel"></canvas>
  <button onclick="spin()">SPIN</button>
</div>

<!-- REVEAL -->
<div id="reveal" class="section">
  <div class="line">Whatever it lands on...</div>
  <div class="line">It doesnâ€™t matter.</div>
  <div class="line">Itâ€™s with you.</div>
  <div id="result"></div>
  <button onclick="location.reload()">Replay</button>
</div>

<script>

/* Show wheel after 3 seconds */
setTimeout(()=>{
  document.getElementById("intro").style.display="none";
  document.getElementById("wheelSection").style.display="flex";
},3000);

/* Ideas */
const ideas=[
"Night Walk ğŸŒ™",
"Arcade ğŸ®",
"Ice Cream ğŸ¦",
"Movie Night ğŸ¬",
"Road Trip ğŸš—",
"Late Coffee â˜•",
"Picnic ğŸŒ¿",
"Rooftop ğŸŒ†"
];

const canvas=document.getElementById("wheel");
const ctx=canvas.getContext("2d");

function resize(){
  canvas.width=canvas.clientWidth;
  canvas.height=canvas.clientHeight;
  draw();
}
window.addEventListener("resize",resize);

let rotation=0;

function draw(){
  const radius=canvas.width/2;
  const slice=2*Math.PI/ideas.length;
  ctx.clearRect(0,0,canvas.width,canvas.height);

  for(let i=0;i<ideas.length;i++){
    ctx.beginPath();
    ctx.moveTo(radius,radius);
    ctx.arc(radius,radius,radius,
      rotation+i*slice,
      rotation+(i+1)*slice);
    ctx.fillStyle=i%2?"#1a2033":"#252c44";
    ctx.fill();

    ctx.save();
    ctx.translate(radius,radius);
    ctx.rotate(rotation+i*slice+slice/2);
    ctx.fillStyle="white";
    ctx.textAlign="right";
    ctx.font=(canvas.width/14)+"px Arial";
    ctx.fillText(ideas[i],radius-20,5);
    ctx.restore();
  }
}
resize();

/* Spin */
function spin(){
  let duration=4000;
  let start=null;
  let spinAmount=Math.random()*8+10;

  function animate(t){
    if(!start) start=t;
    let progress=t-start;
    let ease=1-Math.pow(1-progress/duration,3);
    rotation=spinAmount*ease;
    draw();

    if(progress<duration){
      requestAnimationFrame(animate);
    } else {
      showResult();
    }
  }
  requestAnimationFrame(animate);
}

function showResult(){
  document.getElementById("wheelSection").style.display="none";
  document.getElementById("reveal").style.display="flex";

  const result=ideas[Math.floor(Math.random()*ideas.length)];
  document.getElementById("result").innerText=result;
}

</script>

</body>
</html>
